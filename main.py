import streamlit as st
import random # 쫌쫌따리 효과 넣으려고 추가!

# 오에에엥이 영혼을 갈아넣은 MBTI 데이터! (현정쓰도 나중에 더 채워봐! 😊)
mbti_data = {
    "ISTJ": {
        "traits": "🔍 현실적이고 책임감 강한 만능 일꾼! 계획대로 움직이고 꼼꼼해서 믿음직 그 자체. '원칙은 지켜야지!' 스타일이지만 속으론 다정함도 숨기고 있어요.",
        "careers": ["회계사 📊", "공무원 🏛️", "경찰관 👮‍♂️", "프로그래머 💻", "재무 분석가 📈", "교정/교열가 📝", "생산 관리자 🏭"]
    },
    "ISFJ": {
        "traits": "💖 따뜻하고 헌신적인 수호자! 주변 사람들을 세심하게 챙기고, 약속은 철저히 지키는 믿음직한 친구. 조용히 자기 역할을 묵묵히 해내는 숨은 공신이에요.",
        "careers": ["간호사 👩‍⚕️", "사회복지사 🤝", "초등/유치원 교사 🍎", "영양사 🍽️", "물리치료사 💪", "사무직 ✍️", "보육교사 👶"]
    },
    "INFJ": {
        "traits": "✨ 깊은 통찰력을 가진 이상주의자! 사람과 세상에 대한 이해가 깊고, 의미 있는 변화를 꿈꿔요. 내면의 가치를 중요하게 생각하는 섬세한 영혼의 소유자!",
        "careers": ["심리 상담사 🗣️", "작가/시인 ✍️", "대학교수 (인문학/심리학) 🎓", "예술 치료사 🎨", "사회 운동가 🌍", "인사(HR) 전문가 🧑‍🤝‍🧑", "성직자 ⛪"]
    },
    "INTJ": {
        "traits": "💡 논리적이고 독립적인 전략가! 복잡한 문제도 척척 해결하고, 미래를 내다보는 혜안을 가졌어요. 비판적인 사고력으로 자신만의 길을 개척하는 스타일!",
        "careers": ["과학자 🔬", "교수 (공학/자연과학) 👨‍🔬", "IT 개발자 🖥️", "전략 컨설턴트 💼", "건축가 🏗️", "재무 설계사 💰", "엔지니어 🛠️"]
    },
    "ISTP": {
        "traits": "🛠️ 호기심 많고 실용적인 해결사! 직접 몸으로 부딪히며 배우는 것을 좋아하고, 문제 해결에 능해요. 자유롭고 독립적인 것을 추구하는 리얼 현실주의자!",
        "careers": ["엔지니어 ⚙️", "정비사 🔧", "소방관 🧑‍🚒", "기술자 👨‍🏭", "파일럿 ✈️", "운동선수 🏅", "사진작가 📸"]
    },
    "ISFP": {
        "traits": "🎨 예술적 감각이 뛰어난 모험가! 현재를 즐기고 자유로운 영혼의 소유자. 새로운 경험을 두려워하지 않고, 아름다움을 창조하는 일에 재능이 있어요.",
        "careers": ["디자이너 👗", "음악가 🎸", "요리사 🧑‍🍳", "수의사 🐶", "패션 디자이너 👚", "작가 (문학/예술) ✍️", "원예사 🌿"]
    },
    "INFP": {
        "traits": "🌷 따뜻한 마음을 가진 몽상가! 타인의 감정에 공감하고, 이상적인 세상을 꿈꿔요. 내면의 가치와 신념을 중요하게 여기는 따뜻한 감성의 소유자!",
        "careers": ["시인/작가 ✍️", "미술 치료사 🧑‍🎨", "대학교수 (문학/예술) 🎓", "환경 운동가 🌳", "상담가 🫂", "음악 치료사 🎵", "번역가 🌐"]
    },
    "INTP": {
        "traits": "🧠 끊임없이 탐구하는 사색가! 지적인 호기심이 왕성하고, 복잡한 이론을 분석하는 데 뛰어난 능력을 가졌어요. 논리적이고 창의적인 아이디어를 뿜뿜해요.",
        "careers": ["연구원 🧪", "철학자 📜", "데이터 과학자 📊", "발명가 💡", "IT 컨설턴트 🖥️", "대학교수 (과학/수학) 👨‍🏫", "시스템 분석가 📈"]
    },
    "ESTP": {
        "traits": "🌟 활기 넘치는 자유로운 영혼! 즉흥적이고 행동력이 뛰어나며, 새로운 경험을 즐겨요. 스릴과 재미를 추구하는 타고난 문제 해결사이자 인싸 재질!",
        "careers": ["사업가 📈", "영업직 🤝", "경찰 🚔", "스포츠 강사 🤸‍♀️", "엔터테이너 🎤", "여행 가이드 🗺️", "소방관 🔥"]
    },
    "ESFP": {
        "traits": "🥳 에너지 넘치는 자유로운 영혼! 사람들과 어울리는 것을 좋아하고, 분위기를 즐겁게 만들어요. 현재를 즐기고, 주변을 환하게 만드는 매력 뿜뿜!",
        "careers": ["연예인 🌟", "유튜버 🎥", "어린이집 교사 🧒", "이벤트 플래너 🎈", "판매원 🛍️", "요리사 🧑‍🍳", "헤어 디자이너 💇‍♀️"]
    },
    "ENFP": {
        "traits": "💖 밝고 통통 튀는 스파클링! 호기심 많고 상상력이 풍부하며, 사람들과 새로운 아이디어를 나누는 것을 즐겨요. 열정적이고 창의적인 핵인싸 재질!",
        "careers": ["강사 🗣️", "마케터 📊", "크리에이터 🎨", "연극인 🎭", "광고 기획자 📝", "PR 전문가 📢", "심리 상담사 🫂"]
    },
    "ENTP": {
        "traits": "💡 비판적 사고의 브레인 스토머! 새로운 아이디어를 계속 떠올리고, 토론을 즐겨요. 똑똑하고 재치 넘치지만, 가끔 엉뚱한 면도 있는 천재형!",
        "careers": ["창업가 🚀", "변호사 ⚖️", "컨설턴트 📈", "발명가 💡", "IT 개발자 💻", "정치인 👨‍⚖️", "벤처 투자가 💰"]
    },
    "ESTJ": {
        "traits": "📊 현실적이고 추진력 강한 리더! 논리적이고 체계적이며, 일을 효율적으로 처리하는 데 능해요. 조직을 이끌고 목표 달성을 중요하게 생각하는 스타일!",
        "careers": ["관리자 🧑‍💼", "경영 컨설턴트 💼", "은행원 🏦", "회계사 💰", "기업가 🏭", "판사 👩‍⚖️", "프로젝트 매니저 📝"]
    },
    "ESFJ": {
        "traits": "🤝 친절하고 사교적인 핵인싸! 타인에게 관심이 많고, 도움을 주는 것을 즐겨요. 주변 분위기를 좋게 만들고, 협력과 조화를 중요하게 생각하는 따뜻한 친구!",
        "careers": ["영업 관리 🧑‍💻", "인사 담당자 🧑‍🤝‍🧑", "교사 👩‍🏫", "의사 👨‍⚕️", "이벤트 플래너 🎈", "승무원 ✈️", "간호사 👩‍⚕️"]
    },
    "ENFJ": {
        "traits": "🌟 따뜻하고 카리스마 넘치는 리더! 타인의 잠재력을 끌어내고, 함께 성장하는 것을 즐겨요. 열정적으로 사람들을 이끄는 사회 정의 실현가 재질!",
        "careers": ["사회 운동가 ✊", "정치인 🗳️", "HR 전문가 🤝", "라이프 코치 🗣️", "교사 👩‍🏫", "마케터 📈", "심리 상담사 🫂"]
    },
    "ENTJ": {
        "traits": "👑 타고난 카리스마 리더! 비전을 제시하고 목표를 향해 돌진하는 추진력 甲. 논리적이고 단호하며, 복잡한 상황에서도 리더십을 발휘하는 스타일!",
        "careers": ["사업가 🏢", "경영 컨설턴트 💼", "변호사 ⚖️", "CEO 👑", "대학교수 (경영/경제) 🎓", "정책 분석가 📈", "프로젝트 매니저 📋"]
    }
}

# --- Streamlit 앱 기본 설정 ---
st.set_page_config(
    page_title="🌟MBTI 맞춤 진로 탐험대🌟",
    page_icon="🚀",
    layout="wide" # 화면을 시원하게 넓게 써보자!
)

# --- 타이틀 및 소개 ---
st.title("🌟 MBTI 맞춤 진로 탐험대 🚀")
st.markdown("### :sparkles: **내 MBTI는 어떤 직업이랑 찰떡궁합일까?** :sparkles:")
st.markdown("---")

# 인트로 메시지! (감성 한 스푼 추가)
st.write("""
안녕하세요, 현정쓰! 👀 미래에 대한 고민은 넘나 당연한 것!
MBTI 성향에 딱 맞는 직업을 탐색하며 나만의 길을 찾아봐요.
지금 바로 나의 MBTI를 선택하고 숨겨진 잠재력을 발견해보세요!
""")

# MBTI 선택 박스 (더 예쁘게!)
st.markdown("---")
col1, col2 = st.columns([1, 2]) # 레이아웃 분할

with col1:
    st.image("https://i.imgur.com/3Z4Y6zR.png", width=150) # 귀여운 이미지 넣어봤어! (없으면 주석처리!)
    st.markdown("#### 🤔 **나의 MBTI는?**")
    selected_mbti = st.selectbox(
        "본인의 MBTI를 선택해주세요 👇",
        ["선택하세요..."] + list(mbti_data.keys()),
        index=0
    )

with col2:
    if selected_mbti == "선택하세요...":
        st.warning("👈 왼쪽에 있는 드롭다운 메뉴에서 MBTI를 선택해주세요!")
        st.write("궁금한 나의 MBTI를 콕 집어주면 오에에엥이 알찬 정보들을 뿅! 하고 보여줄게 😉")
    else:
        st.info(f"✨ **짜잔! {selected_mbti}를 선택했어요!** 이제 결과가 나타날 거예요!")
        # 쫌쫌따리 축하 효과!
        if random.random() < 0.5: # 50% 확률로 풍선!
            st.balloons()
        else: # 50% 확률로 눈!
            st.snow()

st.markdown("---")

# --- MBTI별 정보 보여주기 ---
if selected_mbti != "선택하세요...":
    mbti_info = mbti_data[selected_mbti]

    # 선택된 MBTI 이름 강조
    st.success(f"🎉 **{selected_mbti}** 유형 분석 결과!")
    st.markdown("### **🌈 내 MBTI 특징 파헤치기!**")

    # MBTI 특징을 Expander로 접어두기 (깔끔하게!)
    with st.expander(f"{selected_mbti}는 어떤 사람일까?", expanded=True):
        st.write(f"👉 {mbti_info['traits']}")
        st.markdown("*(위 설명은 일반적인 경향성을 나타내며, 모든 개개인이 해당되는 것은 아니에요!)*")

    st.markdown("### **🎯 현정쓰를 위한 맞춤 직업 추천!**")
    st.write(f"**{selected_mbti}** 유형에게 추천하는 직업 리스트예요. 현정쓰의 강점과 잘 맞을 거예요!")

    # 추천 직업 리스트를 좀 더 예쁘게 보여주기
    # col_count = 3 # 한 줄에 3개씩 보여주기
    # cols = st.columns(col_count)
    # for i, career in enumerate(mbti_info['careers']):
    #     with cols[i % col_count]:
    #         st.markdown(f"- **{career}**")
    
    # 걍 깔끔하게 리스트로 가자!
    for career in mbti_info['careers']:
        st.markdown(f"✅ **{career}**")

    st.markdown("---")
    st.info("""
    📢 **잠깐!** 이 추천은 참고용이라는 거 알지?
    가장 중요한 건 현정쓰가 **진짜 좋아하는 일**을 찾고, **가슴 뛰는 미래**를 만드는 거야!
    다양한 경험을 통해 현정쓰의 적성을 찾아나가길 오에에엥이 응원할게! 💖
    """)
    st.button("다른 MBTI도 다시 볼래요!") # 다시 보게 하는 버튼!

# --- 푸터 (살짝 재밌게!) ---
st.markdown("---")
st.markdown("""
<style>
/* CSS 맛 좀 봤다! */
h1 {
    color: #FF69B4; /* 핫핑크! */
    text-align: center;
}
h3 {
    color: #6A5ACD; /* 보라색! */
    text-align: center;
}
.stSelectbox label {
    font-size: 1.2em;
    font-weight: bold;
    color: #4682B4; /* 스틸블루 */
}
</style>
""", unsafe_allow_html=True)
st.markdown("##### powered by 오에에엥 😎")

